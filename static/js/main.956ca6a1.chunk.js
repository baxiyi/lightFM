(window.webpackJsonpmyfm=window.webpackJsonpmyfm||[]).push([[0],{11:function(e,t,n){e.exports={container:"_5ndjgEEDo8Z1f-cZsMaSk",content:"_1bwGa607JKi67B0rkpfdqm",bg:"_17c3kmDN40wTICXm2bbvig",cover:"Se66MHMm049tWO1QLnjj5",contentWrap:"_1KFaCNTY4Z5mf2qCSuCvGh",menuBox:"_15SFmFU6chdz8NY_-e7g1V",icon:"a44dFx5Et3Qqs7ocAulLt",songPic:"Uq2HC9NVKm-MUog7WDOWh",pic:"_23rhWghTHg4thxy6g7qBc-",zRotate:"Y7VbsMFAapkZgHJYztPuZ",rotate:"_2qQ0x6LTUVJpKxUg9bOy7i",control:"_1jVEp-_FtO5tnk49tFqUrB",name:"_2ktMKbKYOT6_xDHBnlpj_o",author:"_2V3Uoj_790kkjMpfdWhQG9",controlBox:"_2q8nQKKu61a8URNnn3As--",panelBox:"ky7GqmtJj7Ln77fW5MMHc",item:"pDr386wJk44FjMhlDTpzb",iconLoveActive:"_2gktC6RQE9ZMuWNVianMpz"}},114:function(e,t,n){e.exports=n(144)},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),i=n(17),o=n(50),u=n(18),l="SONG_CHANGE",p="SNACKBAR_CHANGE",h="DRAWER_CHANGE",d=n(39),f=n(7),m=n.n(f),g=n(13),b=n(96),v=n.n(b),y=n(72),O=n.n(y);O.a.init({appId:"HmduPEaPPVq2HTxv5GMacXly-gzGzoHsz",appKey:"XzhOqo1iVBtcryb8NTifcYOQ"});var k=O.a,E=function(e){for(var t=e,n=t.length-1;n>=0;n--){var a=Math.floor(Math.random()*(n+1)),r=t[a];t[a]=t[n],t[n]=r}return t};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={songServices:{search:function(){var e=Object(g.a)(m.a.mark(function e(t,n,a,r){var s,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCollectSongs(t).then(function(e){return e.map(function(e){return e.songId})});case 2:return s=e.sent,(c=new URLSearchParams).append("s",n),c.append("type",a),c.append("limit",r||40),e.abrupt("return",v()({method:"post",headers:{"X-Requested-With":"XMLHttpRequest"},url:"".concat("/api","/search/pc"),data:c}).then(function(e){return 200===e.data.code?e.data.result.songs.map(function(e){return S({},e,{isCollect:-1!==s.indexOf(e.id)})}):[]}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),fetchSongCatg:function(){return new k.Query("Category").find().then(function(e){return e.map(function(e){return S({},e.attributes,{id:e.id})})})},fetchSongCatgByUserId:function(e){var t=new k.Query("Rel_user_category");return t.equalTo("userId",e),t.find().then(function(e){return e.map(function(e){return S({},e.attributes,{id:e.id})})})},findSongBySongid:function(e){var t=new k.Query("Song");return t.equalTo("songid",e),t.find()},findSongBySongidArr:function(e){var t,n=e.map(function(e){var t=new k.Query("Song");return t.equalTo("songid",e),t});return(t=k.Query).or.apply(t,Object(d.a)(n)).find()},addSong:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.Object.extend("Song"),e.next=3,this.findSongBySongid(t.id);case 3:if((a=e.sent).length){e.next=18;break}return(r=new n).set("name",t.name),r.set("author",t.artists.map(function(e){return e.name}).join(",")),r.set("pic",t.album.picUrl),r.set("music","https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")),r.set("link","http://music.163.com/#/song?id=".concat(t.id)),r.set("type",t.type||"netease"),r.set("songid",t.id),r.set("public",t.public||1),r.set("quality",t.quality||1),e.abrupt("return",r.save());case 18:return e.abrupt("return",a[0]);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),addCatgRelation:function(e,t){var n=e.map(function(e){return new Promise(function(n,a){var r=new(k.Object.extend("Rel_category_song"));r.set("catgId",e),r.set("songId",t),r.save().then(function(e){e.id?n(e):a()}).catch(function(e){a()})})});return Promise.all(n)},deleteUserCatgRelations:function(e){var t=new k.Query("Rel_user_category");return t.equalTo("userId",e),t.find().then(function(e){e&&k.Object.destroyAll(e)})},addUserCatgRelations:function(){var e=Object(g.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deleteUserCatgRelations(n);case 2:return a=t.map(function(e){return new Promise(function(t,a){var r=new(k.Object.extend("Rel_user_category"));r.set("userId",n),r.set("catgId",e.id),r.save().then(function(e){e.id?t(e):a()}).catch(function(e){a()})})}),e.abrupt("return",Promise.all(a));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),fetchCollectSongsId:function(e){var t=new k.Query("Rel_user_collect");return t.equalTo("userId",e),t.find().then(function(e){return e.map(function(e){return e.attributes.songId})})},fetchDislikeSongId:function(e){var t=new k.Query("Rel_user_song_dislike");return t.equalTo("userId",e),t.find().then(function(e){return e.map(function(e){return e.attributes.songId})})},fetchSongsIdByCatgId:function(e){var t,n=e.map(function(e){var t=new k.Query("Rel_category_song");return t.equalTo("catgId",e),t});return(t=k.Query).or.apply(t,Object(d.a)(n)).find().then(function(e){return e.map(function(e){return e.attributes.songId})})},dislikeSong:function(e,t){var n=new(k.Object.extend("Rel_user_song_dislike"));return n.set("userId",e),n.set("songId",t),n.save()},undoDislikeSong:function(e,t){var n,a=t.map(function(t){var n=new k.Query("Rel_user_song_dislike");return n.equalTo("userId",e),n.equalTo("songId",t),n});return(n=k.Query).or.apply(n,Object(d.a)(a)).find().then(function(e){return k.Object.destroyAll(e)})},collectSong:function(e,t){var n=new k.Query("Rel_user_collect");return n.equalTo("userId",e),n.equalTo("songId",t),n.find().then(function(){var n=Object(g.a)(m.a.mark(function n(a){var r,s,c;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.length){n.next=7;break}return r=k.Object.createWithoutData("Rel_user_collect",a[0].id),n.next=4,r.destroy();case 4:return n.abrupt("return",{id:a[0].id,isCollect:!1});case 7:return s=k.Object.extend("Rel_user_collect"),(c=new s).set("userId",e),c.set("songId",t),n.next=13,c.save();case 13:return n.abrupt("return",{id:e,isCollect:!0});case 14:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},fetchQualitySongs:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDislikeSongId(t);case 2:return n=e.sent,e.next=5,this.fetchCollectSongsId(t);case 5:return a=e.sent,(r=new k.Query("Song")).equalTo("public",1),r.equalTo("quality",1),r.limit(500),e.abrupt("return",r.find().then(function(e){return e=(e=e.map(function(e){return S({},e.attributes,{id:e.id,isCollect:-1!==a.indexOf(e.id)})})).filter(function(e){return-1===n.indexOf(e.id)}),E(e)}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fetchCustomiseSongs:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r,s,c,i,o,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new k.Query("Rel_user_category")).equalTo("userId",t),e.next=4,n.find().then(function(e){return e.map(function(e){return e.attributes.catgId})});case 4:return a=e.sent,e.next=7,this.fetchDislikeSongId(t);case 7:return r=e.sent,e.next=10,this.fetchCollectSongsId(t);case 10:if(s=e.sent,!a.length){e.next=23;break}return e.next=14,this.fetchSongsIdByCatgId(a);case 14:if((i=e.sent).length){e.next=17;break}return e.abrupt("return",[]);case 17:return o=i.map(function(e){var t=new k.Query("Song");return t.equalTo("objectId",e),t}),(u=(c=k.Query).or.apply(c,Object(d.a)(o))).limit(500),e.abrupt("return",u.find().then(function(e){return e=(e=e.map(function(e){return S({},e.attributes,{id:e.id,isCollect:-1!==s.indexOf(e.id)})})).filter(function(e){return-1===r.indexOf(e.id)}),E(e)}));case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fetchCollectSongs:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r,s,c,i=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]&&i[1],e.next=3,this.fetchCollectSongsId(t);case 3:if((r=e.sent).length){e.next=6;break}return e.abrupt("return",[]);case 6:return s=r.map(function(e){var t=new k.Query("Song");return t.equalTo("objectId",e),t}),(c=(n=k.Query).or.apply(n,Object(d.a)(s))).limit(500),e.abrupt("return",c.find().then(function(e){return e=e.map(function(e){return S({},e.attributes,{id:e.id,isCollect:!0})}),a?e:E(e)}));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fetchDislikeSongs:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDislikeSongId(t);case 2:if(!(n=e.sent).length){e.next=10;break}return r=n.map(function(e){var t=new k.Query("Song");return t.equalTo("objectId",e),t}),(s=(a=k.Query).or.apply(a,Object(d.a)(r))).limit(500),e.abrupt("return",s.find().then(function(e){return e=e.map(function(e){return S({},e.attributes,{id:e.id})})}));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},userServices:{regist:function(e){var t=new k.User;return t.setUsername(e.username),t.setPassword(e.password),t.signUp()},login:function(e){return k.User.logIn(e.username,e.password)},logout:function(){return k.User.logOut()},getCurrentUser:function(){return k.User.current()},checkIsLogin:function(){return!!this.getCurrentUser()},checkIsSuperUser:function(){return!1}}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=w.userServices.getCurrentUser(),P={userId:I&&I.id};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={open:!1,vertical:"top",horizontal:"center",msg:"message",seconds:2e3};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q={left:!1,bottom:!1};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R={songList:[],activeIndex:0,qualitySongList:[],customiseSongList:[],collectSongList:[],isPlay:!1},A=Object(o.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CHANGE":return C({},Object.assign(P,t.users));default:return e}},songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return U({},Object.assign(R,t.songs));default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return _({},Object.assign(L,t.snackbar));default:return e}},drawer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return T({},Object.assign(q,t.drawer));default:return e}}}),H=Object(o.c)(A),Q=n(19),B=n(20),z=n(22),F=n(21),W=n(23),G=n(185),K=n(191),V=n(180),Y=n(36),J=n(34),Z=n.n(J),X=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(z.a)(this,Object(F.a)(t).call(this,e))).state={username:"",password:"",open:!1,vertical:null,horizontal:null},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){H.dispatch({type:p,snackbar:{open:!0,msg:"Username:myFM Password:myFM",seconds:5e3}})}},{key:"validateInput",value:function(){var e=this.state.username.trim(),t=this.state.password.trim();return e.trim()?t.trim()?/^[a-zA-Z0-9_]{4,8}$/.test(e)?/^[a-zA-Z0-9_]{4,8}$/.test(t)?{flag:!0}:{flag:!1,msg:"\u5bc6\u7801\u5fc5\u987b\u4e3a4\u52308\u4f4d\u5927\u5c0f\u5199\u5b57\u6bcd\uff0c\u6570\u5b57\u6216_\u7ec4\u6210",seconds:4e3}:{flag:!1,msg:"\u7528\u6237\u540d\u5fc5\u987b\u4e3a4\u52308\u4f4d\u5927\u5c0f\u5199\u5b57\u6bcd\uff0c\u6570\u5b57\u6216_\u7ec4\u6210",seconds:4e3}:{flag:!1,msg:"\u8bf7\u8f93\u5165\u5bc6\u7801"}:{flag:!1,msg:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}}},{key:"login",value:function(){var e=this,t=this.validateInput();if(!t.flag)return H.dispatch({type:p,snackbar:{open:!0,msg:t.msg,seconds:t.seconds?t.seconds:2e3}}),void console.log("cannot login");w.userServices.login({username:this.state.username,password:this.state.password}).then(function(t){t.id?(H.dispatch({type:p,snackbar:{open:!0,msg:"\u767b\u5f55\u6210\u529f"}}),H.dispatch({type:"USER_CHANGE",users:{userId:t.id}}),e.props.history.push("/guide")):H.dispatch({type:p,snackbar:{open:!0,msg:"\u767b\u5f55\u5931\u8d25"}})}).catch(function(e){console.log(e)})}},{key:"regist",value:function(){var e=this,t=this.validateInput();t.flag?w.userServices.regist({username:this.state.username,password:this.state.password}).then(function(t){t.id?(H.dispatch({type:p,snackbar:{open:!0,msg:"\u6ce8\u518c\u6210\u529f"}}),H.dispatch({type:"USER_CHANGE",users:{userId:t.id}}),e.props.history.push("/guide")):H.dispatch({type:p,snackbar:{open:!0,msg:"\u6ce8\u518c\u5931\u8d25"}})}).catch(function(e){console.log(e)}):H.dispatch({type:p,snackbar:{open:!0,msg:t.msg,seconds:t.seconds?t.seconds:2e3}})}},{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:Z.a.container},r.a.createElement("div",{className:Z.a.bgImg}),r.a.createElement("div",{className:Z.a.cover}),r.a.createElement("div",{className:Z.a.content},r.a.createElement("div",{className:Z.a.logoBox},"\u79c1\u4ebaFM"),r.a.createElement("div",{className:Z.a.form},r.a.createElement("div",null,r.a.createElement(V.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement("span",{className:"iconfont icon-user ".concat(Z.a.icon)})),r.a.createElement(V.a,{item:!0,xs:10},r.a.createElement(K.a,{color:"#fff",fullWidth:!0,id:"inptut-with-icon-grid",label:"\u7528\u6237\u540d",required:!0,onChange:this.onUsernameChange.bind(this)})))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(V.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement("span",{className:"iconfont icon-password ".concat(Z.a.icon)})),r.a.createElement(V.a,{item:!0,xs:10},r.a.createElement(K.a,{color:"#fff",fullWidth:!0,type:"password",id:"input-with-icon-grid",required:!0,label:"\u5bc6\u7801",onChange:this.onPasswordChange.bind(this)})))),r.a.createElement("div",{className:Z.a.btnBox},r.a.createElement("span",{className:Z.a.btn},r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.login.bind(this)},"\u767b\u5f55")),r.a.createElement("span",{className:Z.a.btn},r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:this.regist.bind(this)},"\u6ce8\u518c"))))))}}]),t}(a.PureComponent);X=Object(Y.g)(X);var $=Object(i.b)(function(e){return{snackbar:e.snackbar,users:e.users}})(X),ee=n(184),te=n(186),ne=n(187),ae=n(188),re=n(192),se=n(55),ce=n.n(se);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ue=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(z.a)(this,Object(F.a)(t).call(this,e))).state={catgList:[]},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"fetchSongCatgByUserId",value:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.songServices.fetchSongCatgByUserId(t);case 2:n=e.sent,a=n.map(function(e){return e.catgId}),w.songServices.fetchSongCatg().then(function(e){r.setState({catgList:e.map(function(e){return oe({},e,{isSelect:-1!==a.indexOf(e.id)})})})});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props.users.userId;this.fetchSongCatgByUserId(e)}},{key:"onTagSelectChange",value:function(e){var t=this.state.catgList;t[e].isSelect=!t[e].isSelect,this.setState({catgList:t})}},{key:"customiseFM",value:function(){var e=this,t=w.userServices.getCurrentUser(),n=t&&t.id,a=this.state.catgList.filter(function(e){return e.isSelect});a.length?n?w.songServices.addUserCatgRelations(a,n).then(function(t){t.length?(H.dispatch({type:p,snackbar:{open:!0,msg:"\u5b9a\u5236\u79c1\u4ebaFM\u6210\u529f"}}),e.props.history.push("/index/customise")):H.dispatch({type:p,snackbar:{open:!0,msg:"\u5b9a\u5236\u5931\u8d25"}})}):H.dispatch({type:p,snackbar:{open:!0,msg:"\u767b\u5f55\u8d85\u65f6!"}}):H.dispatch({type:p,snackbar:{open:!0,msg:"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u6807\u7b7e"}})}},{key:"enterFM",value:function(){var e=w.userServices.getCurrentUser(),t=e&&e.id,n=this.state.catgList.filter(function(e){return e.isSelect});n.length&&w.songServices.addUserCatgRelations(n,t),this.props.history.push("/index/quality")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ce.a.container},r.a.createElement("h3",{className:ce.a.title},"\u60a8\u7684\u559c\u597d\u662f\u4ec0\u4e48\u5462\uff1f"),r.a.createElement("div",{className:ce.a.list},r.a.createElement(ee.a,null,this.state.catgList.map(function(t,n){return r.a.createElement(te.a,{key:n,dense:!0,button:!0,onClick:e.onTagSelectChange.bind(e,n)},r.a.createElement(re.a,{checked:t.isSelect,tabIndex:-1,disableRipple:!0}),r.a.createElement(ne.a,{primary:t.name}),r.a.createElement(ae.a,null,r.a.createElement("span",{className:"iconfont icon-tag ".concat(ce.a.icon)})))}))),r.a.createElement("div",{className:"f-tc f-mgt30"},r.a.createElement(G.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:this.customiseFM.bind(this)},"\u8fdb\u5165FM"),r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:this.enterFM.bind(this)},"\u968f\u4fbf\u542c\u542c")))}}]),t}(a.Component);ue=Object(Y.g)(ue);var le=Object(i.b)(function(e){return{users:e.users}})(ue),pe=n(11),he=n.n(pe);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var fe=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(z.a)(this,Object(F.a)(t).call(this,e))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.props.songs),n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"fetchCustomiseSongs",value:function(){var e=Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.users.userId,e.abrupt("return",w.songServices.fetchCustomiseSongs(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchQualitySongs",value:function(){var e=Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.users.userId,e.abrupt("return",w.songServices.fetchQualitySongs(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCollectSongs",value:function(){var e=Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.users.userId,e.abrupt("return",w.songServices.fetchCollectSongs(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSongList",value:function(){var e=Object(g.a)(m.a.mark(function e(){var t,n,a,r,s,c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.songs.songList,n=this.props.match&&this.props.match.params.fmType,a=[],r=[],s=[],c=0,i="",t.length){e.next=39;break}return e.next=10,this.fetchQualitySongs();case 10:return a=e.sent,e.next=13,this.fetchCustomiseSongs();case 13:return r=e.sent,e.next=16,this.fetchCollectSongs();case 16:s=e.sent,e.t0=n,e.next="quality"===e.t0?20:"customise"===e.t0?24:"collect"===e.t0?28:32;break;case 20:return c=a.length,i="\u7cbe\u9009FMHz",H.dispatch({type:l,songs:{songList:a}}),e.abrupt("break",36);case 24:return c=r.length,i="\u79c1\u4ebaFMHz",H.dispatch({type:l,songs:{songList:r}}),e.abrupt("break",36);case 28:return c=s.length,i="\u7ea2\u5fc3FMHz",H.dispatch({type:l,songs:{songList:s}}),e.abrupt("break",36);case 32:return c=a.length,i="\u7cbe\u9009FMHz",H.dispatch({type:l,songs:{songList:a}}),e.abrupt("break",36);case 36:H.dispatch({type:l,songs:{qualitySongList:a,customiseSongList:r,collectSongList:s}}),e.next=70;break;case 39:return e.next=41,this.fetchCollectSongs();case 41:s=e.sent,e.t1=n,e.next="quality"===e.t1?45:"customise"===e.t1?52:"collect"===e.t1?59:63;break;case 45:return e.next=47,this.fetchQualitySongs();case 47:return a=e.sent,c=a.length,i="\u7cbe\u9009FMHz",H.dispatch({type:l,songs:{qualitySongList:a,collectSongList:s}}),e.abrupt("break",70);case 52:return e.next=54,this.fetchCustomiseSongs();case 54:return r=e.sent,c=r.length,i="\u79c1\u4ebaFMHz",H.dispatch({type:l,songs:{customiseSongList:r,collectSongList:s}}),e.abrupt("break",70);case 59:return c=s.length,i="\u7ea2\u5fc3FMHz",H.dispatch({type:l,songs:{songList:s,collectSongList:s}}),e.abrupt("break",70);case 63:return e.next=65,this.fetchQualitySongs();case 65:return a=e.sent,c=a.length,i="\u7cbe\u9009FMHz",H.dispatch({type:l,songs:{qualitySongList:a,collectSongList:s}}),e.abrupt("break",70);case 70:setTimeout(function(){H.dispatch({type:p,snackbar:{open:!0,msg:"\u5f53\u524d".concat(i,"\u5171").concat(c,"\u9996\u6b4c")}})},0);case 71:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchSongList()}},{key:"getInitState",value:function(){return{}}},{key:"toggleMenu",value:function(){this.setState({menuState:Object.assign({},this.state.menuState,{isShow:!this.state.menuState})})}},{key:"openMenu",value:function(){H.dispatch({type:h,drawer:{left:!0}})}},{key:"togglePlay",value:function(){var e=this.props.songs.isPlay;H.dispatch({type:l,songs:{isPlay:!e}})}},{key:"onPlayNext",value:function(){var e=this.props.songs,t=e.activeIndex;t=t===e.songList.length-1?0:t+1,H.dispatch({type:l,songs:{activeIndex:t}})}},{key:"onDislikeSong",value:function(){var e=this.props.users.userId,t=this.props.songs,n=t.activeIndex,a=t.songList,r=(a&&a[n]).name,s=a&&a[n].id;w.songServices.dislikeSong(e,s).then(function(e){e.id&&(a.splice(n,1),H.dispatch({type:p,snackbar:{open:!0,msg:'"'.concat(r,'"\u6709\u6bd2\uff0c\u5df2\u52a0\u5165\u9694\u79bb\u533a')}}),H.dispatch({type:l,songs:{songList:a,activeIndex:n===a.length-1?0:n+1}}))}).catch(function(e){console.log(e)})}},{key:"onToggleCollect",value:function(){var e=this.props.users.userId,t=this.props.songs,n=t.activeIndex,a=t.songList,r=t.collectSongList,s=a[n].id;w.songServices.collectSong(e,s).then(function(){var t=Object(g.a)(m.a.mark(function t(s){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a[n].isCollect=!a[n].isCollect,!s.isCollect){t.next=7;break}r.unshift(s),H.dispatch({type:l,songs:{songList:a,collectSongList:r}}),H.dispatch({type:p,snackbar:{open:!0,msg:"\u6536\u85cf\u6210\u529f"}}),t.next=12;break;case 7:return t.next=9,w.songServices.fetchCollectSongs(e,!0);case 9:r=t.sent,H.dispatch({type:l,songs:{songList:a,collectSongList:r}}),H.dispatch({type:p,snackbar:{open:!0,msg:"\u53d6\u6d88\u6536\u85cf\u6210\u529f"}});case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this.props.songs,t=e.songList,n=e.activeIndex,a=t&&t[n]&&t[n].name,s=t&&t[n]&&t[n].author,c=t&&t[n]&&t[n].pic,i=t&&t[n]&&t[n].isCollect,o=this.props.songs.isPlay;return r.a.createElement("div",{className:he.a.container},r.a.createElement("section",{className:he.a.menuBox},r.a.createElement("span",{className:"iconfont icon-menu ".concat(he.a.icon),onClick:this.openMenu.bind(this)})),r.a.createElement("div",{className:he.a.bg,style:{backgroundImage:"url(".concat(c,")")}}),r.a.createElement("div",{className:he.a.cover}),r.a.createElement("section",{className:he.a.contentWrap},r.a.createElement("section",{className:he.a.content},r.a.createElement("span",{className:he.a.songPic},r.a.createElement("span",{className:o?"".concat(he.a.pic," ").concat(he.a.zRotate):"".concat(he.a.pic),style:{backgroundImage:"url(".concat(c,")")}}),r.a.createElement("span",{className:he.a.control},r.a.createElement("span",{className:o?"iconfont icon-pause ".concat(he.a.icon):"iconfont icon-play ".concat(he.a.icon),onClick:this.togglePlay.bind(this)}))),r.a.createElement("div",null,r.a.createElement("h3",{className:he.a.name},a),r.a.createElement("p",{className:he.a.author},s)),r.a.createElement("div",{className:he.a.controlBox},r.a.createElement("div",{className:he.a.panelBox},r.a.createElement("div",{className:he.a.item,onClick:this.onDislikeSong.bind(this)},r.a.createElement("span",{className:"iconfont icon-trash ".concat(he.a.icon)})),r.a.createElement("div",{className:he.a.item,onClick:this.onToggleCollect.bind(this)},r.a.createElement("span",{className:i?"iconfont icon-love ".concat(he.a.icon," ").concat(he.a.iconLoveActive):"iconfont icon-love ".concat(he.a.icon)})),r.a.createElement("div",{className:he.a.item,onClick:this.onPlayNext.bind(this)},r.a.createElement("span",{className:"iconfont icon-next ".concat(he.a.icon)})))))))}}]),t}(a.PureComponent),me=Object(i.b)(function(e){return{snackbar:e.snackbar,songs:e.songs,users:e.users}})(fe),ge=n(189),be=n(35),ve=n.n(be);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Oe=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(z.a)(this,Object(F.a)(t).call(this,e))).state={searchTxt:"",list:[],searchType:1},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"getWithCollectList",value:function(){var e=Object(g.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.users.userId,e.next=3,w.songServices.fetchCollectSongs(n,!0);case 3:return a=e.sent,console.log(a),r=a.map(function(e){return e.songid}),t=t.map(function(e){var t=e.id;return e.isCollect=-1!==r.indexOf(t),e}),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"searchSong",value:function(){var e=this;if(this.state.searchTxt.trimLeft()){var t=this.props.users.userId,n=this.state,a=n.searchTxt,r=n.searchType;w.songServices.search(t,a,r).then(function(){var t=Object(g.a)(m.a.mark(function t(n){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.length){t.next=5;break}return t.next=3,e.getWithCollectList(n);case 3:a=t.sent,e.setState({list:a});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"onSearchInput",value:function(e){this.setState({searchTxt:e.target.value})}},{key:"collectSong",value:function(e,t){var n=this;t.stopPropagation(),t.preventDefault();var a=this.props.users.userId,r=this.state.list,s=r[e];s.public=2,s.quality=2,w.songServices.addSong(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s)).then(function(e){return e.id?H.dispatch({type:p,snackbar:{open:!0,msg:"\u6dfb\u52a0\u6b4c\u66f2\u6210\u529f"}}):H.dispatch({type:p,snackbar:{open:!0,msg:"\u6dfb\u52a0\u6b4c\u66f2\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}}),e.id}).then(function(t){w.songServices.collectSong(a,t).then(function(t){r[e].isCollect=!r[e].isCollect,n.setState({list:r}),t.isCollect?H.dispatch({type:p,snackbar:{open:!0,msg:"\u6536\u85cf\u6210\u529f"}}):H.dispatch({type:p,snackbar:{open:!0,msg:"\u53d6\u6d88\u6536\u85cf\u6210\u529f"}})})}).catch(function(e){H.dispath({type:p,snackbar:{open:!0,msg:e.toString()}})})}},{key:"getAuthorName",value:function(e){return e.length<1?"":(e.length>2&&(e=e.slice(0,2)),e.map(function(e){return e.name}).join(","))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:ve.a.searchBox},r.a.createElement("div",{className:ve.a.inputWrap},r.a.createElement(K.a,{fullWidth:!0,id:"name",label:"\u8f93\u5165\u6b4c\u540d\u6216\u6b4c\u624b\u540d\u5b57",onInput:this.onSearchInput.bind(this),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.searchSong.bind(this)},"\u641c\u7d22"))),r.a.createElement("div",{className:ve.a.cardWrap},r.a.createElement(ee.a,null,this.state.list.map(function(t,n){return r.a.createElement("section",{className:ve.a.listBox,key:n},r.a.createElement(te.a,{dense:!0,button:!0},r.a.createElement(ge.a,{style:{marginRight:"10px"},alt:"avatar",src:t.album.picUrl}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ne.a,{primary:t.name})),r.a.createElement("div",null,r.a.createElement(ne.a,{primary:e.getAuthorName(t.artists)}))),r.a.createElement(ae.a,null,r.a.createElement("span",{className:t.isCollect?"iconfont icon-love ".concat(ve.a.icon," ").concat(ve.a.iconLoveActive):"iconfont icon-love ".concat(ve.a.icon," ").concat(ve.a.iconLoveNormal),onClick:e.collectSong.bind(e,n)}),r.a.createElement("a",{href:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")},r.a.createElement("span",{className:"iconfont icon-download ".concat(ve.a.icon," ").concat(ve.a.download)})))))}))))}}]),t}(a.PureComponent),ke=Object(i.b)(function(e){return{snackbar:e.snackbar,users:e.users}})(Oe),Ee=n(56),je=n.n(Ee),Se=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(z.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={checkedIds:[],dislikeList:[]},n.handleToggle=function(e){return function(){var t=n.state.checkedIds,a=t.indexOf(e),r=Object(d.a)(t);-1===a?r.push(e):r.splice(a,1),n.setState({checkedIds:r})}},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"fetchDislikeSongs",value:function(){var e=this,t=this.props.users.userId;w.songServices.fetchDislikeSongs(t).then(function(t){e.setState({dislikeList:t})})}},{key:"componentDidMount",value:function(){this.fetchDislikeSongs()}},{key:"reshowDislikeSongs",value:function(){var e=this,t=this.props.users.userId,n=this.state.checkedIds;w.songServices.undoDislikeSong(t,n).then(function(){var t=Object(g.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchDislikeSongs();case 2:H.dispatch({type:p,snackbar:{open:!0,msg:"\u5df2\u6210\u529f\u5c06\u5b83\u4eec\u79fb\u51fa\u9694\u79bb\u533a"}});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:je.a.container},this.state.dislikeList.length?r.a.createElement("section",null,r.a.createElement("h4",{className:je.a.title},"\u62ef\u6551\u66fe\u7ecf\u88ab\u4f60\u9694\u79bb\u7684\u5b83\u4eec"),this.state.dislikeList.map(function(t){return r.a.createElement("section",{key:t.id},r.a.createElement(te.a,{dense:!0,button:!0},r.a.createElement(ge.a,{style:{marginRight:"10px"},alt:"avatar",src:t.pic}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ne.a,{primary:t.name})),r.a.createElement("div",null,r.a.createElement(ne.a,{primary:t.author}))),r.a.createElement(ae.a,null,r.a.createElement(re.a,{onChange:e.handleToggle(t.id),checked:-1!==e.state.checkedIds.indexOf(t.id)}))))}),r.a.createElement("section",{className:je.a.btnBox},r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.reshowDislikeSongs.bind(this)},"\u6cbb\u6108"))):r.a.createElement("h4",{className:je.a.title},"\u9694\u79bb\u533a\u7a7a\u7a7a\u5982\u4e5f..."))}}]),t}(a.PureComponent),we=Object(i.b)(function(e){return{users:e.users}})(Se),xe=n(48),Ce=n(195),Ie=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(z.a)(this,Object(F.a)(t).call(this,e))).state={timer:null,seconds:n.props.snackbar.seconds},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props.snackbar,n=t.vertical,a=t.horizontal,s=t.open,c=t.msg,i=t.seconds;if(s&&!this.state.timer){var o=setTimeout(function(){H.dispatch({type:"SNACKBAR_CHANGE",snackbar:{open:!1,seconds:2e3}}),e.setState({timer:null})},i);this.setState({timer:o})}return r.a.createElement("div",null,r.a.createElement(Ce.a,{anchorOrigin:{vertical:n,horizontal:a},open:s,onClose:this.handleClose.bind(this),ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},c)}))}}]),t}(a.PureComponent),Pe=Object(i.b)(function(e){return{snackbar:e.snackbar}})(Ie),Ne=function(e){function t(){return Object(Q.a)(this,t),Object(z.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(B.a)(t,[{key:"onAudioEnded",value:function(){var e=this.props.songs,t=e.activeIndex;t=t===e.songList.length-1?0:t+1,H.dispatch({type:l,songs:{activeIndex:t}})}},{key:"render",value:function(){var e=this,t=this.props.songs,n=t.activeIndex,a=t.songList;return t.isPlay?setTimeout(function(){e.audio&&e.audio.play()},0):setTimeout(function(){e.audio&&e.audio.pause()},0),r.a.createElement("div",null,r.a.createElement("audio",{ref:function(t){e.audio=t},src:a&&a[n]&&a[n].music,onEnded:this.onAudioEnded.bind(this)}))}}]),t}(a.PureComponent),_e=Ne=Object(i.b)(function(e){return{songs:e.songs}})(Ne),Le=n(146),De=n(194),Te=n(190),qe=n(101),Me=n.n(qe),Ue=n(102),Re=n.n(Ue),Ae=n(37),He=n.n(Ae),Qe=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(z.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={left:n.props.drawer.left,open:!0},n.toggleDrawer=function(e){return function(){H.dispatch({type:h,drawer:{left:e}})}},n.toggleChannelItem=function(e){e.stopPropagation(),n.setState({open:!n.state.open})},n}return Object(W.a)(t,e),Object(B.a)(t,[{key:"logout",value:function(){var e=this;this.props.songs.isPlay&&H.dispatch({type:l,songs:{songList:[],activeIndex:0,qualitySongList:[],customiseSongList:[],collectSongList:[],isPlay:!1}}),w.userServices.logout().then(function(t){H.dispatch({type:"USER_CHANGE",users:{userId:""}}),e.props.history.push("/login"),H.dispatch({type:p,users:{open:!0,msg:"\u767b\u51fa\u6210\u529f",seconds:2e3}})})}},{key:"showSnackbar",value:function(e){H.dispatch({type:p,snackbar:{open:!0,msg:"\u5f53\u524d".concat(e.channelName,"\u5171").concat(e.activeChannelTotal,"\u9996\u6b4c")}})}},{key:"changeChannel",value:function(e){var t=this.props.songs,n=t.qualitySongList,a=t.customiseSongList,r=t.collectSongList,s={0:{path:"/index/quality",channelName:"\u7cbe\u9009FMHz",activeChannelTotal:n.length,action:function(){H.dispatch({type:l,songs:{songList:n,activeIndex:0}})}},1:{path:"/index/customise",channelName:"\u79c1\u4ebaFMHz",activeChannelTotal:a.length,action:function(){H.dispatch({type:l,songs:{songList:a,activeIndex:0}})}},2:{path:"/index/collect",channelName:"\u7ea2\u5fc3FMHz",activeChannelTotal:r.length,action:function(){H.dispatch({type:l,songs:{songList:r,activeIndex:0}})}}};this.props.history.push(s[e].path),s[e].action(),this.showSnackbar(s[e])}},{key:"openSettings",value:function(){H.dispatch({type:p,snackbar:{open:!0,msg:"\u529f\u80fd\u5f00\u53d1\u4e2d"}})}},{key:"render",value:function(){var e=this.props.drawer.left,t=r.a.createElement("div",null,r.a.createElement(ee.a,{component:"nav"},r.a.createElement(te.a,{button:!0,onClick:this.toggleChannelItem},r.a.createElement("span",{className:"iconfont icon-radio ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u9891\u9053"}),this.state.open?r.a.createElement(Me.a,null):r.a.createElement(Re.a,null)),r.a.createElement(Te.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(ee.a,{component:"div",disablePadding:!0},r.a.createElement(te.a,{button:!0,onClick:this.changeChannel.bind(this,0)},r.a.createElement(ne.a,{inset:!0,primary:"\u7cbe\u9009Hz"})),r.a.createElement(te.a,{button:!0,onClick:this.changeChannel.bind(this,1)},r.a.createElement(ne.a,{inset:!0,primary:"\u5b9a\u5236Hz"})),r.a.createElement(te.a,{button:!0,onClick:this.changeChannel.bind(this,2)},r.a.createElement(ne.a,{inset:!0,primary:"\u7ea2\u5fc3Hz"})))),r.a.createElement(xe.b,{to:"/dislike",className:He.a.link},r.a.createElement(te.a,{button:!0},r.a.createElement("span",{className:"iconfont icon-virus ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u9694\u79bb\u533a"}))),r.a.createElement(xe.b,{to:"/guide",className:He.a.link},r.a.createElement(te.a,{button:!0},r.a.createElement("span",{className:"iconfont icon-customise ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u5b9a\u5236\u6807\u7b7e"}))),r.a.createElement(xe.b,{to:"/search",className:He.a.link},r.a.createElement(te.a,{button:!0},r.a.createElement("span",{className:"iconfont icon-search ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u641c\u7d22"}))),r.a.createElement(te.a,{button:!0,onClick:this.openSettings.bind(this)},r.a.createElement("span",{className:"iconfont icon-setting ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u8bbe\u7f6e"})),r.a.createElement(te.a,{button:!0,onClick:this.logout.bind(this)},r.a.createElement("span",{className:"iconfont icon-logout ".concat(He.a.icon)}),r.a.createElement(ne.a,{primary:"\u767b\u51fa"}))));return r.a.createElement("div",null,r.a.createElement(De.a,{open:e,onClose:this.toggleDrawer(!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},t)))}}]),t}(a.PureComponent);Qe=Object(Le.a)({list:{width:250},fullList:{width:"auto"}})(Qe),Qe=Object(Y.g)(Qe);var Be=Object(i.b)(function(e){return{drawer:e.drawer,songs:e.songs}})(Qe),ze=function(){var e=w.userServices.checkIsLogin();return r.a.createElement("div",null,r.a.createElement(Be,null),r.a.createElement(Pe,null),r.a.createElement(_e,null),r.a.createElement(Y.d,null,r.a.createElement(Y.b,{path:"/",exact:!0,render:function(t){return e?r.a.createElement(Y.a,{to:"/index/quality"}):r.a.createElement($,null)}}),r.a.createElement(Y.b,{path:"/index",exact:!0,render:function(t){return e?r.a.createElement(Y.a,{to:"/index/quality"}):r.a.createElement($,null)}}),r.a.createElement(Y.b,{path:"/login",component:$}),r.a.createElement(Y.b,{path:"/guide",render:function(t){return e?r.a.createElement(le,null):r.a.createElement($,null)}}),r.a.createElement(Y.b,{path:"/dislike",render:function(t){return e?r.a.createElement(we,null):r.a.createElement($,null)}}),r.a.createElement(Y.b,{path:"/search",render:function(t){return e?r.a.createElement(ke,null):r.a.createElement($,null)}}),r.a.createElement(Y.b,{path:"/index/:fmType",render:function(t){return e?r.a.createElement(me,null):r.a.createElement($,null)}})))},Fe=function(){return r.a.createElement(xe.a,null,r.a.createElement(ze,null))},We=n(103),Ge=n(196);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=Object(We.a)({palette:{primary:{light:"#ffc1c1",main:"#ed8281",dark:"#9c1b18",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#8b81ed",dark:"#ba000d",contrastText:"#fff"}}});c.a.render(r.a.createElement(i.a,{store:H},r.a.createElement(Ge.a,{theme:Ke},r.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,n){e.exports={container:"_3-7p657Rmgf727TAxzefms",cover:"_1OtGpjWPCBPkqG4YEzlds3",bgImg:"dW4e3b6jIj0zV4y_QjiLZ",logoBox:"_3sTR7v-T12HCKNxQF3iilL",content:"_1lKzc7RiA0wGVClFbnMsbn",form:"_1NGuViQP9fT-mFjTWNklY9",icon:"_3wH5BD9F_DgQdnOUppMDM4",btnBox:"_3Ty4OXw2VX732yomC8d5jk",btn:"wsuwYU_U4LT2BgYo4j5dx"}},35:function(e,t,n){e.exports={searchBox:"e4HsVihKCPnIloOkIUAh8",inputWrap:"_26qTOnp4mflBcHyl10vNm",listBox:"_1jGhktQ-jt5nosiHJJE2-S",icon:"_2soRO4XvTobj6rrIKlG5sF",iconLoveNormal:"_2TK3qo3r7PPIxpfrC_Cu4z",iconLoveActive:"_VXdmvParAo2L24DPEoVJ",download:"_1NYyvp3Zw2thfGa9mm4q-v"}},37:function(e,t,n){e.exports={icon:"am9-DRDgldcptZm3tunm5",link:"_1OfTnwWSTd8gvZZCLb6GSr"}},55:function(e,t,n){e.exports={container:"_3YxU8Ez70mk-O79C52U0Mk",title:"_3kfPAvCX7IfA8jSaIqd42A",list:"JMwLAIEHLZ5yVsqKY-gvb",icon:"_2U_E7tjuGEOlQ_Lvw4yKJl"}},56:function(e,t,n){e.exports={container:"_3nx70ClYW4eJKJOXteUMOM",title:"E8YFO-UBGHfKIqEV4NzRz",btnBox:"_3joDvN9u4AENCxFVjbHvnq"}}},[[114,1,2]]]);
//# sourceMappingURL=main.956ca6a1.chunk.js.map